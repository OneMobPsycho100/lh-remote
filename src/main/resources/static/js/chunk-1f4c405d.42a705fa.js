(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f4c405d"],{"07a1":function(e,t,a){},1:function(e,t){},"19f6":function(e,t,a){"use strict";var i=a("7e72"),n=a.n(i);n.a},2:function(e,t){},"206f":function(e,t,a){"use strict";var i=a("07a1"),n=a.n(i);n.a},"216a4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-classic-wrapper"},[a("Hints",[a("template",{slot:"hintName"},[e._v("Table表格组件")]),a("template",{slot:"hintInfo"},[a("p",[e._v("element-Table：使用elementUI的Table组件，可用于展示多条结构类似的数据，并对其进行相关操作")]),a("p",[e._v("地址：访问 "),a("el-link",{attrs:{type:"success",href:"https://element.eleme.cn/2.13/TableClassic.vue#/zh-CN/component/table",target:"_blank"}},[e._v("element-Table")])],1)])],2),a("el-card",{attrs:{shadow:"always"}},[a("div",{staticClass:"control-btns"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleCreate}},[e._v("新建数据")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleImport}},[e._v("导入数据")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exportVisible=!0}}},[e._v("导出数据")]),a("el-button",{attrs:{type:"danger"},on:{click:e.batchDelete}},[e._v("批量删除")])],1),a("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{inline:!0,model:e.listQuery,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{attrs:{placeholder:"编号"},model:{value:e.listQuery.id,callback:function(t){e.$set(e.listQuery,"id",t)},expression:"listQuery.id"}})],1),a("el-form-item",{attrs:{label:"手机"}},[a("el-input",{attrs:{placeholder:"手机"},model:{value:e.listQuery.phone,callback:function(t){e.$set(e.listQuery,"phone",t)},expression:"listQuery.phone"}})],1),a("el-form-item",{attrs:{label:"婚姻状况"}},[a("el-select",{attrs:{placeholder:"婚姻状况"},model:{value:e.listQuery.married,callback:function(t){e.$set(e.listQuery,"married",t)},expression:"listQuery.married"}},[a("el-option",{attrs:{value:0,label:"单身"}}),a("el-option",{attrs:{value:1,label:"未婚"}}),a("el-option",{attrs:{value:2,label:"已婚"}}),a("el-option",{attrs:{value:3,label:"离异"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"medium"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),a("el-table-column",{attrs:{prop:"id",label:"编号",align:"center",width:"120",sortable:""}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("姓名: "+e._s(t.row.name))]),a("p",[e._v("手机: "+e._s(t.row.phone))]),a("p",[e._v("爱好: "+e._s(t.row.hobby))]),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sex))]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"手机",align:"center"}}),a("el-table-column",{attrs:{prop:"education",label:"学历",align:"center"}}),a("el-table-column",{attrs:{label:"婚姻状况",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"80px"},on:{change:function(a){return e.selectChange(t.row)}},model:{value:t.row.married,callback:function(a){e.$set(t.row,"married",a)},expression:"scope.row.married"}},[a("el-option",{attrs:{value:0,label:"单身"}}),a("el-option",{attrs:{value:1,label:"未婚"}}),a("el-option",{attrs:{value:2,label:"已婚"}}),a("el-option",{attrs:{value:3,label:"离异"}})],1)]}}])}),a("el-table-column",{attrs:{label:"禁止编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.stateChange(t.row)}},model:{value:t.row.forbid,callback:function(a){e.$set(t.row,"forbid",a)},expression:"scope.row.forbid"}})]}}])}),a("el-table-column",{attrs:{prop:"hobby",label:"爱好",align:"center",width:"300","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",disabled:t.row.forbid},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("Pagination",{attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"currentPage",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.fetchData}}),a("el-dialog",{staticClass:"dialog-form",attrs:{title:"编辑",visible:e.formVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.formVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.formRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1),a("el-form-item",{attrs:{label:"手机：",prop:"phone"}},[a("el-input",{model:{value:e.dialogForm.phone,callback:function(t){e.$set(e.dialogForm,"phone",t)},expression:"dialogForm.phone"}})],1),a("el-form-item",{attrs:{label:"婚姻状况：",prop:"married"}},[a("el-select",{model:{value:e.dialogForm.married,callback:function(t){e.$set(e.dialogForm,"married",t)},expression:"dialogForm.married"}},[a("el-option",{attrs:{value:0,label:"单身"}}),a("el-option",{attrs:{value:1,label:"未婚"}}),a("el-option",{attrs:{value:2,label:"已婚"}}),a("el-option",{attrs:{value:3,label:"离异"}})],1)],1),a("el-form-item",{attrs:{label:"爱好：",prop:"hobby"}},[a("el-checkbox-group",{model:{value:e.dialogForm.hobby,callback:function(t){e.$set(e.dialogForm,"hobby",t)},expression:"dialogForm.hobby"}},[a("el-checkbox",{attrs:{label:"羽毛球",name:"hobby"}}),a("el-checkbox",{attrs:{label:"乒乓球",name:"hobby"}}),a("el-checkbox",{attrs:{label:"篮球",name:"hobby"}}),a("el-checkbox",{attrs:{label:"排球",name:"hobby"}}),a("el-checkbox",{attrs:{label:"网球",name:"hobby"}}),a("el-checkbox",{attrs:{label:"旱冰",name:"hobby"}}),a("el-checkbox",{attrs:{label:"滑雪",name:"hobby"}}),a("el-checkbox",{attrs:{label:"跳高",name:"hobby"}}),a("el-checkbox",{attrs:{label:"冲浪",name:"hobby"}})],1)],1),a("div",{staticClass:"footer-item"},[a("el-button",{on:{click:e.cancleForm}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.isSubmit},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"导入数据",visible:e.importVisible,width:"20%"},on:{"update:visible":function(t){e.importVisible=t}}},[a("div",{staticClass:"upload-box"},[a("span",[e._v("选择文件：")]),a("Upload",{attrs:{"files-format":e.filesFormat}},[a("i",{staticClass:"vue-dsn-icon-upload"}),e._v("上传文件 ")])],1),a("div",{staticClass:"hints"},[e._v("TIP：请选择要导出数据的格式。")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancleImport}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmImport}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"导出数据",visible:e.exportVisible,width:"30%"},on:{"update:visible":function(t){e.exportVisible=t}}},[a("div",{staticClass:"export-data"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportTable("xlsx")}}},[e._v("EXCEL格式")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportTable("csv")}}},[e._v("CSV格式")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportTable("txt")}}},[e._v("TXT格式")])],1),a("div",{staticClass:"hints"},[e._v("TIP：请选择要导出数据的格式。")])])],1)],1)},n=[],l=(a("b0c0"),a("ac1f"),a("1276"),a("d722")),o=(a("99af"),a("d81d"),a("c19f"),a("d3b7"),a("25f0"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("1146")),r=a.n(o),s=a("21a6");function c(e,t){for(var a=t.map((function(e){return e.map((function(e){return null==e?{wch:10}:e.toString().charCodeAt(0)>255?{wch:2*e.toString().length}:{wch:e.toString().length}}))})),i=a[0],n=1;n<a.length;n++)for(var l=0;l<a[n].length;l++)i[l].wch<a[n][l].wch&&(i[l].wch=a[n][l].wch);e["!cols"]=i}function u(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))}function d(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),i=0;i!==e.length;++i)a[i]=255&e.charCodeAt(i);return t}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,a=e.key,i=e.data,n=e.fileName,l=e.autoWidth,o=void 0===l||l,p=e.bookType,m=void 0===p?"xlsx":p,b=r.a.utils.book_new(),f=u(a,i);n=n||"excel-list",f.unshift(t);var h=r.a.utils.aoa_to_sheet(f);o&&c(h,f),r.a.utils.book_append_sheet(b,h,n);var g=r.a.write(b,{bookType:m,bookSST:!1,type:"binary"});Object(s["saveAs"])(new Blob([d(g)],{type:"application/octet-stream"}),"".concat(n,".").concat(m))}function m(e){var t,a=[],i=r.a.utils.decode_range(e["!ref"]),n=i.s.r;for(t=i.s.c;t<=i.e.c;++t){var l=e[r.a.utils.encode_cell({c:t,r:n})],o="UNKNOWN "+t;l&&l.t&&(o=r.a.utils.format_cell(l)),a.push(o)}return a}function b(e,t){var a=r.a.read(e,{type:t}),i=a.SheetNames[0],n=a.Sheets[i],l=m(n),o=r.a.utils.sheet_to_json(n);return{header:l,results:o}}var f={exportDataToExcel:p,readDataFromExcel:b},h=a("333d"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",{staticClass:"files-upload",attrs:{action:e.url,accept:e.filesFormat,multiple:e.isMultiple,"show-file-list":e.isShowList,"on-success":e.uploadSuccess,"on-error":e.uploadError}},[e._t("default")],2)},v=[],y=(a("caad"),{name:"Upload",props:{url:{type:String,default:""},filesFormat:{type:String,default:""},isMultiple:{type:Boolean,default:!1},isShowList:{type:Boolean,default:!1}},methods:{uploadSuccess:function(e,t){if([200,0].includes(e.code)){var a=e.data;this.$emit("on-success",a)}else this.$emit("on-error"),this.$message.error(e.msg)},uploadError:function(e,t){this.$emit("on-error")}}}),w=y,x=(a("f8e9"),a("2877")),_=Object(x["a"])(w,g,v,!1,null,null,null),k=_.exports,S=a("b522"),C={name:"Table",components:{Pagination:h["a"],Upload:k,Hints:S["a"]},data:function(){return{listLoading:!0,listQuery:{id:void 0,phone:void 0,married:void 0,currentPage:1,pageSize:10},dialogForm:{name:void 0,phone:void 0,married:void 0,hobby:[]},total:0,tableData:[],multipleSelection:[],formVisible:!1,formRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}]},isSubmit:!1,importVisible:!1,filesFormat:".txt, .csv, .xls, .xlsx",exportVisible:!1}},created:function(){this.fetchData()},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleCreate:function(){this.formVisible=!0,this.dialogForm.name=void 0,this.dialogForm.phone=void 0,this.dialogForm.married=void 0,this.dialogForm.hobby=[]},handleEdit:function(e,t){console.log(e,t),this.formVisible=!0,this.dialogForm.name=t.name,this.dialogForm.phone=t.phone,this.dialogForm.married=t.married,this.dialogForm.hobby=t.hobby.split("、")},handleDelete:function(e,t){var a=this;console.log(e,t),this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$message({type:"success",message:"删除成功!"})})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},batchDelete:function(){this.multipleSelection.length<1?this.$message({message:"请先选择要删除的数据！",type:"warning"}):this.handleDelete()},handleClose:function(){this.formVisible=!1,this.$refs.dialogForm.resetFields()},fetchData:function(){var e=this;this.listLoading=!0,Object(l["c"])(this.listQuery).then((function(t){var a=t.data;0===a.code&&(e.total=a.data.total,e.tableData=a.data.list,e.listLoading=!1)})).catch((function(){e.listLoading=!1}))},onSubmit:function(){this.listQuery.currentPage=1,this.fetchData()},handleImport:function(){this.importVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.isSubmit=!1,!1;t.formVisible=!1}))},cancleForm:function(){this.$refs.dialogForm.resetFields(),this.formVisible=!1},confirmImport:function(){this.importVisible=!1},cancleImport:function(){this.importVisible=!1},exportTable:function(e){if(this.tableData.length){var t={header:["编号","姓名","性别","手机","学历","婚姻状况","禁止编辑","爱好"],key:["id","name","sex","phone","education","married","forbid","hobby"],data:this.tableData,autoWidth:!0,fileName:"综合表格",bookType:e};f.exportDataToExcel(t),this.exportVisible=!1}},selectChange:function(e){},stateChange:function(e){}}},F=C,$=(a("19f6"),Object(x["a"])(F,i,n,!1,null,null,null));t["default"]=$.exports},3:function(e,t){},"333d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-wrapper"},[a("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.total,layout:e.layout},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],l=(a("a9e3"),{name:"Pagination",props:{page:{type:Number,default:1,required:!0},limit:{type:Number,default:10,required:!0},background:{type:Boolean,default:!0},pageSizes:{type:Array,default:function(){return[10,15,20,50]}},total:{type:Number,default:0,required:!0},layout:{type:String,default:"total, prev, pager, next, sizes, jumper"}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e})},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize})}}}),o=l,r=(a("206f"),a("2877")),s=Object(r["a"])(o,i,n,!1,null,null,null);t["a"]=s.exports},"404b":function(e,t,a){"use strict";var i=a("a8be"),n=a.n(i);n.a},"7e72":function(e,t,a){},a8be:function(e,t,a){},b522:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hints-wrapper"},[a("div",{staticClass:"hint-title"},[a("i",{staticClass:"vue-dsn-icon-tishi"}),a("span",[e._t("hintName")],2)]),a("div",{staticClass:"hint-info"},[e._t("hintInfo")],2)])},n=[],l={name:"Hints"},o=l,r=(a("404b"),a("2877")),s=Object(r["a"])(o,i,n,!1,null,null,null);t["a"]=s.exports},d385:function(e,t,a){},d722:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return u}));var i=a("cebe"),n=a.n(i),l="http://127.0.0.1:8099/";function o(e){return n()({url:l+"index/1/10",method:"get",param:e})}function r(e){return n()({url:l+"execute",method:"post",contentType:"application/json",data:e})}function s(e){return n()({url:l+"record/index",method:"post",contentType:"application/json",data:e})}function c(e){return n()({url:l+"record/list/"+e,method:"get"})}function u(e){window.location.href=l+"download/"+e}},f8e9:function(e,t,a){"use strict";var i=a("d385"),n=a.n(i);n.a}}]);